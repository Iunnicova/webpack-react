–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ prod-—Å–±–æ—Ä–∫–∏ –∏ dev
–û–±—ã—á–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –¥–≤–µ —Å–±–æ—Ä–∫–∏: –æ–¥–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –¥—Ä—É–≥–∞—è –¥–ª—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Äî —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –ø–æ—ç—Ç–æ–º—É –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–±–æ—Ä–∫–∞–º —Ä–∞–∑–Ω—ã–µ:
–í —Å–±–æ—Ä–∫–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏	–í —Å–±–æ—Ä–∫–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–°—Ç–∞—Ä—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –≤–µ–Ω–¥–æ—Ä–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã	–ù–µ –Ω—É–∂–Ω—ã. –û–Ω–∏ –Ω–µ –Ω–µ—Å—É—Ç –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –∑–∞—Å–æ—Ä—è—é—Ç –∫–æ–¥.	–ù—É–∂–Ω—ã. –ó–∞–∫—Ä—ã–≤–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö.
Webpack	–ù—É–∂–µ–Ω. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å.	–ù–µ –Ω—É–∂–µ–Ω. –ü—Ä–æ–µ–∫—Ç —É–∂–µ —Å–æ–±—Ä–∞–Ω, –Ω–µ –Ω–∞–¥–æ —Å–æ–±–∏—Ä–∞—Ç—å –µ–≥–æ –≤—Ç–æ—Ä–æ–π —Ä–∞–∑.
–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ Webpack —á–∞—Å—Ç–æ —Ç–∞–∫–∂–µ –¥–µ–ª–∞—é—Ç –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–∞.

–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É

 webpack
  –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ 

  webpack.config.js –≤ webpack.common.js

  –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤ —Å–æ–∑–¥–∞–Ω–Ω—É—é –ø–∞–ø–∫—É. 
  –°–æ–∑–¥–∞–π—Ç–µ –≤ –ø–∞–ø–∫–µ webpack –µ—â—ë —Ç—Ä–∏ —Ñ–∞–π–ª–∞: 
  webpack.config.js, 
  webpack.dev.js,
   webpack.prod.js.

   –î–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç webpack-merge:

npm install -D webpack-merge

–û–ø–∏—à–∏—Ç–µ –Ω–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞:

//webpack.config.js
const { merge } = require('webpack-merge')
const commonConfig = require('./webpack.common.js')

module.exports = (envVars) => {
    const { env } = envVars; //–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é env –º—ã –±—É–¥–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º dev –∏–ª–∏ prod
    const envConfig = require(`./webpack.${env}.js`)
    const config = merge(commonConfig, envConfig)
    return config
}

//webpack.dev.js
const path = require('path'); //–¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç path
module.exports = {
    mode: 'development',
    devtool: 'eval-source-map',
    devServer: {
        static: path.resolve(__dirname, './dist'), // –ø—É—Ç—å, –∫—É–¥–∞ "—Å–º–æ—Ç—Ä–∏—Ç" —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
        // compress: true, // —ç—Ç–æ —É—Å–∫–æ—Ä–∏—Ç –∑–∞–≥—Ä—É–∑–∫—É –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
        port: 8080, // –ø–æ—Ä—Ç, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–∞–π—Ç –ø–æ –∞–¥—Ä–µ—Å—É localhost:8080, –Ω–æ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—Ç
        open: true, // —Å–∞–π—Ç –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è —Å–∞–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ npm run dev
        hot: true,
    },
}
//webpack.prod.js
module.exports = {
    mode: 'production',
    devtool: false,
}

//package.json
"scripts": {
    "build": "cross-env NODE_ENV=production webpack --config webpack/webpack.config.js --env env=prod",
    "start": "webpack serve --config webpack/webpack.config.js --env env=dev"
},

–í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ 
build 
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞–∫–µ—Ç 
cross-env 
–¥–ª—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è 
NODE_ENV
. –û–Ω–∞ –Ω—É–∂–Ω–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π 
production
 —Ñ–∞–π–ª–∞ –≤ 
 webpack.common.js
 . –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç 
 cross-env
  –∫–æ–º–∞–Ω–¥–æ–π

   npm i -D cross-env
   .
–ü–µ—Ä–µ–º–µ–Ω–Ω—É—é production –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏. –§–∞–π–ª webpack.common.js –ø—Ä–∏–º–µ—Ç –≤–∏–¥:
const HTMLWebpackPlugins = require('html-webpack-plugin');
const MiniCssExtractPlugin = require('mini-css-extract-plugin');
const path = require('path');
const webpack = require('webpack'); //–ø–æ–¥–∫–ª—é—á–∞–µ–º webpack –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ EnvironmentPlugin

//–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–æ–π —Å–∫—Ä–∏–ø—Ç –º—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏
// –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è production –ø–æ–ª—É—á–∏—Ç –ª–∏–±–æ false, –ª–∏–±–æ true
const production = process.env.NODE_ENV === 'production'; 

module.exports = {
    entry: path.resolve(__dirname, '..', './src/index.tsx'),//–ø—É—Ç—å –¥–æ –ø–∞–ø–∫–∏ src –∏–∑–º–µ–Ω–∏–ª—Å—è
    output: {
      path: path.resolve(__dirname, '..', './dist'), //–ø—É—Ç—å –¥–æ –ø–∞–ø–∫–∏ dist –∏–∑–º–µ–Ω–∏–ª—Å—è
        filename: production
            ? 'static/scripts/[name].[contenthash].js'// –¥–æ–±–∞–≤–ª—è–µ–º —Ö–µ—à –∫ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞, –µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ–º –≤ —Ä–µ–∂–∏–º–µ production
            : 'static/scripts/[name].js',
        publicPath: '/',
                clean: true,
    },
    module: {
        rules: [
            {
                test: /\.[tj]sx?$/,
                use: [
                    {
                        loader: 'ts-loader',
                    },
                ], 
                exclude: /node_modules/,
            },
            {
                test: /\.(png|jpg|gif|webp)$/,
                type: 'asset/resource',
                generator: {
                    filename: 'static/images/[hash][ext][query]',
                },
            },
            {
                test: /\.(woff(2)?|eot|ttf|otf)$/,
                type: 'asset/resource',
                generator: {
                    filename: 'static/fonts/[hash][ext][query]',
                },
            },
            {
                test: /\.svg$/i,
                issuer: /\.[jt]sx?$/,
                use: ['@svgr/webpack', 'url-loader'],
            },
            {
                test: /\.(sa|sc|c)ss$/,
                use: [
                    //–≤ —Ä–µ–∂–∏–º–µ production —Å–æ–∑–¥–∞—ë–º —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ dist, –≤ dev —Ä–µ–∂–∏–º–µ –¥–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –≤ —Ç–µ–≥ style –≤ html-—Ñ–∞–π–ª–µ
                    production ? MiniCssExtractPlugin.loader : 'style-loader', 
                    {
                        loader: 'css-loader',
                        options: {
                            modules: {
                                mode: 'local',
                                localIdentName: '[name]__[local]__[hash:base64:5]',
                                namedExport: false,
                                auto: /\.module\.\w+$/i,
                            },
                            importLoaders: 2,
                        },
                    },
                    'postcss-loader',
                    {
                        loader: 'sass-loader',
                        options: {
                            sourceMap: true,
                        },
                    },
                ],
            },
        ],
    },
    resolve: {
        extensions: ['.js', '.jsx', '.tsx', '.ts', '.json'],
    },
    plugins: [
        new HTMLWebpackPlugins({
            template: path.resolve(__dirname, '..', './public/index.html'), //–ø—É—Ç—å –¥–æ –ø–∞–ø–∫–∏ public –∏–∑–º–µ–Ω–∏–ª—Å—è
        }),
        new MiniCssExtractPlugin({
            filename: 'static/styles/[name].[contenthash].css'
        }),
        //–ü–ª–∞–≥–∏–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ –±–ª–æ–∫–∞ script —Ñ–∞–π–ª–∞ package.json
        new webpack.EnvironmentPlugin({
            NODE_ENV: 'development', // –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'development', –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è process.env.NODE_ENV –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Å–±–æ—Ä–∫–∏
        }),
    ],
};

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –º—ã –≤–µ—Ä–Ω—É–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ 
style-loader
, —Ç–µ–ø–µ—Ä—å –æ–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ dev-—Ä–µ–∂–∏–º–µ.
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞—à–∏ —Å–∫—Ä–∏–ø—Ç—ã 

npm run build 

 npm run start. 
 
 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å—ë –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç.

 –û—Å—Ç–∞–ª—Å—è –æ–¥–∏–Ω –Ω—é–∞–Ω—Å. –ß—Ç–æ–±—ã React –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–ª —Å–≤–æ–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤, –¥–æ–±–∞–≤—å—Ç–µ –ø–∞–∫–µ—Ç—ã 

 npm install -D @pmmmwh/react-refresh-webpack-plugin react-refresh

 –î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞–≥–∏–Ω –≤ –∫–æ–Ω—Ñ–∏–≥ dev:
 const ReactRefreshWebpackPlugin = require('@pmmmwh/react-refresh-webpack-plugin')

module.exports = {
   ...
    plugins: [
        new ReactRefreshWebpackPlugin(),
    ],
}

üí° –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã JSX –∏–∑–º–µ–Ω–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ —Å .ts –Ω–∞ .tsx –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –≤ –ø–æ–ª–µ entry —Ñ–∞–π–ª–∞ webpack.common.js.

–í—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ —Å–±–æ—Ä–∫—É –¥–ª—è React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—é ts-—Ñ–∞–π–ª–æ–≤. –í—Å–µ —ç—Ç–∏ –∑–∞–¥–∞—á–∏ –≤–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Ä–µ—à–∞—Ç—å –µ—â—ë –Ω–µ —Ä–∞–∑, –ø–æ—Ç–æ–º—É —á—Ç–æ Webpack ‚Äî —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Å–±–æ—Ä—â–∏–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–æ–µ–∫—Ç–æ–≤. –û—á–µ–Ω—å –≤–µ—Ä–æ—è—Ç–Ω–æ, —á—Ç–æ –Ω–∞ –Ω–æ–≤–æ–º –º–µ—Å—Ç–µ —Ä–∞–±–æ—Ç—ã –≤—ã —Å—Ç–æ–ª–∫–Ω—ë—Ç–µ—Å—å –∏–º–µ–Ω–Ω–æ —Å –Ω–∏–º.

–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ: –æ—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏ —Å–±–æ—Ä–∫–∏

–ù–∏–∂–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏:

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ webpack, webpack-cli, webpack-dev-server.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ typescript, react, react-dom.

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ TypeScript:
–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ tsconfig.json —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è TypeScript.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø—Ü–∏–π compilerOptions –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ TypeScript.

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ ts-loader –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Webpack –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ TypeScript-—Ñ–∞–π–ª–æ–≤.

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Dev Server:

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ webpack-dev-server –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π hot-reloading.

–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∏–ª–µ–π:
–í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç–∏–ª–µ–π –∏ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ Sass.

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ CSS-–º–æ–¥—É–ª–µ–π –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å—Ç–∏–ª–µ–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ dev- –∏ prod-—Ä–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞ —Å–±–æ—Ä–∫–∏:

–í–∫–ª—é—á–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –∏ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–∞ –≤ —Ä–µ–∂–∏–º–µ prod.

–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å React –≤ —Ä–µ–∂–∏–º–µ dev.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
–†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏, —à—Ä–∏—Ñ—Ç–∞–º–∏ –∏ –¥—Ä—É–≥–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤ Webpack –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á.

